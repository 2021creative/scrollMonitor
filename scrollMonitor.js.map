{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d311d2e7289632f0a0b5","webpack:///./index.js","webpack:///./src/constants.js","webpack:///./src/watcher.js","webpack:///./src/container.js"],"names":["scrollMonitor","document","body","setStateFromDOM","listenToDOM","window","module","exports","VISIBILITYCHANGE","ENTERVIEWPORT","FULLYENTERVIEWPORT","EXITVIEWPORT","PARTIALLYEXITVIEWPORT","LOCATIONCHANGE","STATECHANGE","eventTypes","isOnServer","isInBrowser","defaultOffsets","top","bottom","ElementWatcher","containerWatcher","watchItem","offsets","self","container","callbacks","i","j","length","locked","wasInViewport","wasFullyInViewport","wasAboveViewport","wasBelowViewport","listenerToTriggerListI","listener","triggerCallbackArray","listeners","event","callback","call","isOne","splice","triggerCallbacks","isInViewport","isFullyInViewport","isAboveViewport","isBelowViewport","recalculateLocation","previousTop","previousBottom","nodeName","cachedDisplay","style","display","containerOffset","boundingRect","getBoundingClientRect","viewportTop","documentHeight","height","undefined","update","prototype","on","latestEvent","push","Error","join","off","item","one","recalculateSize","offsetHeight","viewportBottom","destroy","index","watchers","indexOf","lock","unlock","eventHandlerFactory","type","getViewportHeight","element","innerHeight","documentElement","clientHeight","getContentHeight","Math","max","scrollHeight","scrollTop","pageYOffset","ScrollMonitorContainer","parentWatcher","viewportHeight","DOMListener","bind","create","previousDocumentHeight","calculateViewportI","calculateViewport","updateAndTriggerWatchersI","updateAndTriggerWatchers","recalculateLocations","addEventListener","attachEvent","removeEventListener","detachEvent","contentHeight","setState","newViewportTop","newViewportHeight","newContentHeight","needsRecalcuate","querySelector","watcher"],"mappings":"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","file":"scrollMonitor.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"scrollMonitor\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"scrollMonitor\"] = factory();\n\telse\n\t\troot[\"scrollMonitor\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d311d2e7289632f0a0b5","import { isInBrowser } from './src/constants';\n\nimport ScrollMonitorContainer from './src/container';\n\nvar scrollMonitor = new ScrollMonitorContainer(isInBrowser ? document.body : null);\nscrollMonitor.setStateFromDOM(null);\nscrollMonitor.listenToDOM();\n\nif (isInBrowser) {\n\twindow.scrollMonitor = scrollMonitor;\n}\n\nmodule.exports = scrollMonitor;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","export const VISIBILITYCHANGE = 'visibilityChange';\nexport const ENTERVIEWPORT = 'enterViewport';\nexport const FULLYENTERVIEWPORT = 'fullyEnterViewport';\nexport const EXITVIEWPORT = 'exitViewport';\nexport const PARTIALLYEXITVIEWPORT = 'partiallyExitViewport';\nexport const LOCATIONCHANGE = 'locationChange';\nexport const STATECHANGE = 'stateChange';\n\nexport const eventTypes = [\n\tVISIBILITYCHANGE,\n\tENTERVIEWPORT,\n\tFULLYENTERVIEWPORT,\n\tEXITVIEWPORT,\n\tPARTIALLYEXITVIEWPORT,\n\tLOCATIONCHANGE,\n\tSTATECHANGE\n];\n\nexport const isOnServer = (typeof window === 'undefined');\nexport const isInBrowser = !isOnServer;\n\nexport const defaultOffsets = {top: 0, bottom: 0};\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","import {\n\tVISIBILITYCHANGE,\n\tENTERVIEWPORT,\n\tFULLYENTERVIEWPORT,\n\tEXITVIEWPORT,\n\tPARTIALLYEXITVIEWPORT,\n\tLOCATIONCHANGE,\n\tSTATECHANGE,\n\teventTypes,\n\tdefaultOffsets\n} from './constants';\n\nexport default function ElementWatcher (containerWatcher, watchItem, offsets) {\n\tvar self = this;\n\n\tthis.watchItem = watchItem;\n\tthis.container = containerWatcher;\n\n\tif (!offsets) {\n\t\tthis.offsets = defaultOffsets;\n\t} else if (offsets === +offsets) {\n\t\tthis.offsets = {top: offsets, bottom: offsets};\n\t} else {\n\t\tthis.offsets = {\n\t\t\ttop: offsets.top || defaultOffsets.top,\n\t\t\tbottom: offsets.bottom || defaultOffsets.bottom\n\t\t};\n\t}\n\n\tthis.callbacks = {}; // {callback: function, isOne: true }\n\n\tfor (var i = 0, j = eventTypes.length; i < j; i++) {\n\t\tself.callbacks[eventTypes[i]] = [];\n\t}\n\n\tthis.locked = false;\n\n\tvar wasInViewport;\n\tvar wasFullyInViewport;\n\tvar wasAboveViewport;\n\tvar wasBelowViewport;\n\n\tvar listenerToTriggerListI;\n\tvar listener;\n\tfunction triggerCallbackArray (listeners, event) {\n\t\tif (listeners.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tlistenerToTriggerListI = listeners.length;\n\t\twhile (listenerToTriggerListI--) {\n\t\t\tlistener = listeners[listenerToTriggerListI];\n\t\t\tlistener.callback.call(self, event, self);\n\t\t\tif (listener.isOne) {\n\t\t\t\tlisteners.splice(listenerToTriggerListI, 1);\n\t\t\t}\n\t\t}\n\t}\n\tthis.triggerCallbacks = function triggerCallbacks (event) {\n\n\t\tif (this.isInViewport && !wasInViewport) {\n\t\t\ttriggerCallbackArray( this.callbacks[ENTERVIEWPORT], event );\n\t\t}\n\t\tif (this.isFullyInViewport && !wasFullyInViewport) {\n\t\t\ttriggerCallbackArray( this.callbacks[FULLYENTERVIEWPORT], event );\n\t\t}\n\n\n\t\tif (this.isAboveViewport !== wasAboveViewport &&\n\t\t\tthis.isBelowViewport !== wasBelowViewport) {\n\n\t\t\ttriggerCallbackArray( this.callbacks[VISIBILITYCHANGE], event );\n\n\t\t\t// if you skip completely past this element\n\t\t\tif (!wasFullyInViewport && !this.isFullyInViewport) {\n\t\t\t\ttriggerCallbackArray( this.callbacks[FULLYENTERVIEWPORT], event );\n\t\t\t\ttriggerCallbackArray( this.callbacks[PARTIALLYEXITVIEWPORT], event );\n\t\t\t}\n\t\t\tif (!wasInViewport && !this.isInViewport) {\n\t\t\t\ttriggerCallbackArray( this.callbacks[ENTERVIEWPORT], event );\n\t\t\t\ttriggerCallbackArray( this.callbacks[EXITVIEWPORT], event );\n\t\t\t}\n\t\t}\n\n\t\tif (!this.isFullyInViewport && wasFullyInViewport) {\n\t\t\ttriggerCallbackArray( this.callbacks[PARTIALLYEXITVIEWPORT], event );\n\t\t}\n\t\tif (!this.isInViewport && wasInViewport) {\n\t\t\ttriggerCallbackArray( this.callbacks[EXITVIEWPORT], event );\n\t\t}\n\t\tif (this.isInViewport !== wasInViewport) {\n\t\t\ttriggerCallbackArray( this.callbacks[VISIBILITYCHANGE], event );\n\t\t}\n\t\tswitch( true ) {\n\t\t\tcase wasInViewport !== this.isInViewport:\n\t\t\tcase wasFullyInViewport !== this.isFullyInViewport:\n\t\t\tcase wasAboveViewport !== this.isAboveViewport:\n\t\t\tcase wasBelowViewport !== this.isBelowViewport:\n\t\t\t\ttriggerCallbackArray( this.callbacks[STATECHANGE], event );\n\t\t}\n\n\t\twasInViewport = this.isInViewport;\n\t\twasFullyInViewport = this.isFullyInViewport;\n\t\twasAboveViewport = this.isAboveViewport;\n\t\twasBelowViewport = this.isBelowViewport;\n\n\t};\n\n\tthis.recalculateLocation = function () {\n\t\tif (this.locked) {\n\t\t\treturn;\n\t\t}\n\t\tvar previousTop = this.top;\n\t\tvar previousBottom = this.bottom;\n\t\tif (this.watchItem.nodeName) { // a dom element\n\t\t\tvar cachedDisplay = this.watchItem.style.display;\n\t\t\tif (cachedDisplay === 'none') {\n\t\t\t\tthis.watchItem.style.display = '';\n\t\t\t}\n\n\t\t\tvar containerOffset = 0;\n\t\t\tif (this.container.containerWatcher) {\n\t\t\t\tcontainerOffset = this.container.containerWatcher.top;\n\t\t\t}\n\n\t\t\tvar boundingRect = this.watchItem.getBoundingClientRect();\n\t\t\tthis.top = boundingRect.top + this.container.viewportTop - containerOffset;\n\t\t\tthis.bottom = boundingRect.bottom + this.container.viewportTop - containerOffset;\n\n\t\t\tif (cachedDisplay === 'none') {\n\t\t\t\tthis.watchItem.style.display = cachedDisplay;\n\t\t\t}\n\n\t\t} else if (this.watchItem === +this.watchItem) { // number\n\t\t\tif (this.watchItem > 0) {\n\t\t\t\tthis.top = this.bottom = this.watchItem;\n\t\t\t} else {\n\t\t\t\tthis.top = this.bottom = this.container.documentHeight - this.watchItem;\n\t\t\t}\n\n\t\t} else { // an object with a top and bottom property\n\t\t\tthis.top = this.watchItem.top;\n\t\t\tthis.bottom = this.watchItem.bottom;\n\t\t}\n\n\t\tthis.top -= this.offsets.top;\n\t\tthis.bottom += this.offsets.bottom;\n\t\tthis.height = this.bottom - this.top;\n\n\t\tif ( (previousTop !== undefined || previousBottom !== undefined) && (this.top !== previousTop || this.bottom !== previousBottom) ) {\n\t\t\ttriggerCallbackArray( this.callbacks[LOCATIONCHANGE], null );\n\t\t}\n\t};\n\n\tthis.recalculateLocation();\n\tthis.update();\n\n\twasInViewport = this.isInViewport;\n\twasFullyInViewport = this.isFullyInViewport;\n\twasAboveViewport = this.isAboveViewport;\n\twasBelowViewport = this.isBelowViewport;\n}\n\nElementWatcher.prototype = {\n\ton: function (event, callback, isOne) {\n\n\t\t// trigger the event if it applies to the element right now.\n\t\tswitch( true ) {\n\t\t\tcase event === VISIBILITYCHANGE && !this.isInViewport && this.isAboveViewport:\n\t\t\tcase event === ENTERVIEWPORT && this.isInViewport:\n\t\t\tcase event === FULLYENTERVIEWPORT && this.isFullyInViewport:\n\t\t\tcase event === EXITVIEWPORT && this.isAboveViewport && !this.isInViewport:\n\t\t\tcase event === PARTIALLYEXITVIEWPORT && this.isAboveViewport:\n\t\t\t\tcallback.call(this, this.container.latestEvent, this);\n\t\t\t\tif (isOne) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t}\n\n\t\tif (this.callbacks[event]) {\n\t\t\tthis.callbacks[event].push({callback: callback, isOne: isOne||false});\n\t\t} else {\n\t\t\tthrow new Error('Tried to add a scroll monitor listener of type '+event+'. Your options are: '+eventTypes.join(', '));\n\t\t}\n\t},\n\toff: function( event, callback ) {\n\t\tif (this.callbacks[event]) {\n\t\t\tfor (var i = 0, item; item = this.callbacks[event][i]; i++) {\n\t\t\t\tif (item.callback === callback) {\n\t\t\t\t\tthis.callbacks[event].splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Tried to remove a scroll monitor listener of type '+event+'. Your options are: '+eventTypes.join(', '));\n\t\t}\n\t},\n\tone: function( event, callback ) {\n\t\tthis.on( event, callback, true);\n\t},\n\trecalculateSize: function() {\n\t\tthis.height = this.watchItem.offsetHeight + this.offsets.top + this.offsets.bottom;\n\t\tthis.bottom = this.top + this.height;\n\t},\n\tupdate: function() {\n\t\tthis.isAboveViewport = this.top < this.container.viewportTop;\n\t\tthis.isBelowViewport = this.bottom > this.container.viewportBottom;\n\n\t\tthis.isInViewport = (this.top < this.container.viewportBottom && this.bottom > this.container.viewportTop);\n\t\tthis.isFullyInViewport = (this.top >= this.container.viewportTop && this.bottom <= this.container.viewportBottom) || (this.isAboveViewport && this.isBelowViewport);\n\n\t},\n\tdestroy: function() {\n\t\tvar index = this.container.watchers.indexOf(this),\n\t\t\tself  = this;\n\t\tthis.container.watchers.splice(index, 1);\n\t\tfor (var i = 0, j = eventTypes.length; i < j; i++) {\n\t\t\tself.callbacks[eventTypes[i]].length = 0;\n\t\t}\n\t},\n\t// prevent recalculating the element location\n\tlock: function() {\n\t\tthis.locked = true;\n\t},\n\tunlock: function() {\n\t\tthis.locked = false;\n\t}\n};\n\nvar eventHandlerFactory = function (type) {\n\treturn function( callback, isOne ) {\n\t\tthis.on.call(this, type, callback, isOne);\n\t};\n};\n\nfor (var i = 0, j = eventTypes.length; i < j; i++) {\n\tvar type =  eventTypes[i];\n\tElementWatcher.prototype[type] = eventHandlerFactory(type);\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/watcher.js","import { isOnServer, isInBrowser } from './constants';\nimport Watcher from './watcher';\n\nfunction getViewportHeight (element) {\n\tif (isOnServer) {\n\t\treturn 0;\n\t}\n\tif (element === document.body) {\n\t\treturn window.innerHeight || document.documentElement.clientHeight;\n\t} else {\n\t\treturn element.clientHeight;\n\t}\n}\n\nfunction getContentHeight (element) {\n\tif (isOnServer) {\n\t\treturn 0;\n\t}\n\n\tif (element === document.body) {\n\t\t// jQuery approach\n\t\t// whichever is greatest\n\t\treturn Math.max(\n\t\t\tdocument.body.scrollHeight, document.documentElement.scrollHeight,\n\t\t\tdocument.body.offsetHeight, document.documentElement.offsetHeight,\n\t\t\tdocument.documentElement.clientHeight\n\t\t);\n\t} else {\n\t\treturn element.scrollHeight;\n\t}\n}\n\nfunction scrollTop (element) {\n\tif (isOnServer) {\n\t\treturn 0;\n\t}\n\tif (element === document.body) {\n\t\treturn window.pageYOffset ||\n\t\t\t(document.documentElement && document.documentElement.scrollTop) ||\n\t\t\tdocument.body.scrollTop;\n\t} else {\n\t\treturn element.scrollTop;\n\t}\n}\n\n\nclass ScrollMonitorContainer {\n\tconstructor (item, parentWatcher) {\n\t\tvar self = this;\n\n\t\tthis.item = item;\n\t\tthis.watchers = [];\n\t\tthis.viewportTop = null;\n\t\tthis.viewportBottom = null;\n\t\tthis.documentHeight = getContentHeight(item);\n\t\tthis.viewportHeight = getViewportHeight(item);\n\t\tthis.DOMListener = this.DOMListener.bind(this);\n\n\t\tif (parentWatcher) {\n\t\t\tthis.containerWatcher = parentWatcher.create(item);\n\t\t}\n\n\t\tvar previousDocumentHeight;\n\n\t\tvar calculateViewportI;\n\t\tfunction calculateViewport() {\n\t\t\tself.viewportTop = scrollTop(item);\n\t\t\tself.viewportBottom = self.viewportTop + self.viewportHeight;\n\t\t\tself.documentHeight = getContentHeight(item);\n\t\t\tif (self.documentHeight !== previousDocumentHeight) {\n\t\t\t\tcalculateViewportI = self.watchers.length;\n\t\t\t\twhile( calculateViewportI-- ) {\n\t\t\t\t\tself.watchers[calculateViewportI].recalculateLocation();\n\t\t\t\t}\n\t\t\t\tpreviousDocumentHeight = self.documentHeight;\n\t\t\t}\n\t\t}\n\n\t\tvar updateAndTriggerWatchersI;\n\t\tfunction updateAndTriggerWatchers() {\n\t\t\t// update all watchers then trigger the events so one can rely on another being up to date.\n\t\t\tupdateAndTriggerWatchersI = self.watchers.length;\n\t\t\twhile( updateAndTriggerWatchersI-- ) {\n\t\t\t\tself.watchers[updateAndTriggerWatchersI].update();\n\t\t\t}\n\n\t\t\tupdateAndTriggerWatchersI = self.watchers.length;\n\t\t\twhile( updateAndTriggerWatchersI-- ) {\n\t\t\t\tself.watchers[updateAndTriggerWatchersI].triggerCallbacks();\n\t\t\t}\n\n\t\t}\n\n\t\tthis.update = function() {\n\t\t\tcalculateViewport();\n\t\t\tupdateAndTriggerWatchers();\n\t\t};\n\t\tthis.recalculateLocations = function() {\n\t\t\tthis.documentHeight = 0;\n\t\t\tthis.update();\n\t\t};\n\n\t}\n\n\tlistenToDOM () {\n\t\tif (isInBrowser) {\n\t\t\tif (window.addEventListener) {\n\t\t\t\tif (this.item === document.body) {\n\t\t\t\t\twindow.addEventListener('scroll', this.DOMListener);\n\t\t\t\t} else {\n\t\t\t\t\tthis.item.addEventListener('scroll', this.DOMListener);\n\t\t\t\t}\n\t\t\t\twindow.addEventListener('resize', this.DOMListener);\n\t\t\t} else {\n\t\t\t\t// Old IE support\n\t\t\t\tif (this.item === document.body) {\n\t\t\t\t\twindow.attachEvent('onscroll', this.DOMListener);\n\t\t\t\t} else {\n\t\t\t\t\tthis.item.attachEvent('onscroll', this.DOMListener);\n\t\t\t\t}\n\t\t\t\twindow.attachEvent('onresize', this.DOMListener);\n\t\t\t}\n\t\t\tthis.destroy = function () {\n\t\t\t\tif (window.addEventListener) {\n\t\t\t\t\tif (this.item === document.body) {\n\t\t\t\t\t\twindow.removeEventListener('scroll', this.DOMListener);\n\t\t\t\t\t\tthis.containerWatcher.destroy();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.item.removeEventListener('scroll', this.DOMListener);\n\t\t\t\t\t}\n\t\t\t\t\twindow.removeEventListener('resize', this.DOMListener);\n\t\t\t\t} else {\n\t\t\t\t\t// Old IE support\n\t\t\t\t\tif (this.item === document.body) {\n\t\t\t\t\t\twindow.detachEvent('onscroll', this.DOMListener);\n\t\t\t\t\t\tthis.containerWatcher.destroy();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.item.detachEvent('onscroll', this.DOMListener);\n\t\t\t\t\t}\n\t\t\t\t\twindow.detachEvent('onresize', this.DOMListener);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\tdestroy () {\n\t\t// noop, override for your own purposes.\n\t\t// in listenToDOM, for example.\n\t}\n\n\tDOMListener (event) {\n\t\tthis.setStateFromDOM(event);\n\t\tthis.updateAndTriggerWatchers(event);\n\t}\n\n\tsetStateFromDOM (event) {\n\t\tvar viewportTop = scrollTop(this.item);\n\t\tvar viewportHeight = getViewportHeight(this.item);\n\t\tvar contentHeight = getContentHeight(this.item);\n\n\t\tthis.setState(viewportTop, viewportHeight, contentHeight, event);\n\t}\n\n\tsetState (newViewportTop, newViewportHeight, newContentHeight, event) {\n\t\tvar needsRecalcuate = (newViewportHeight !== this.viewportHeight || newContentHeight !== this.contentHeight);\n\n\t\tthis.latestEvent = event;\n\t\tthis.viewportTop = newViewportTop;\n\t\tthis.viewportHeight = newViewportHeight;\n\t\tthis.viewportBottom = newViewportTop + newViewportHeight;\n\t\tthis.contentHeight = newContentHeight;\n\n\t\tif (needsRecalcuate) {\n\t\t\tlet i = this.watchers.length;\n\t\t\twhile (i--) {\n\t\t\t\tthis.watchers[i].recalculateLocation();\n\t\t\t}\n\t\t}\n\t\tthis.updateAndTriggerWatchers(event);\n\t}\n\n\tupdateAndTriggerWatchers (event) {\n\t\tlet i = this.watchers.length;\n\t\twhile (i--) {\n\t\t\tthis.watchers[i].update();\n\t\t}\n\n\t\ti = this.watchers.length;\n\t\twhile (i--) {\n\t\t\tthis.watchers[i].triggerCallbacks(event);\n\t\t}\n\t}\n\n\tcreateCustomContainer () {\n\t\treturn new ScrollMonitorContainer();\n\t}\n\n\tcreateContainer (item) {\n\t\tif (typeof item === 'string') {\n\t\t\titem = document.querySelector(item);\n\t\t} else if (item && item.length > 0) {\n\t\t\titem = item[0];\n\t\t}\n\t\tvar container = new ScrollMonitorContainer(item, this);\n\t\tcontainer.setStateFromDOM();\n\t\tcontainer.listenToDOM();\n\t\treturn container;\n\t}\n\n\tcreate (item, offsets) {\n\t\tif (typeof item === 'string') {\n\t\t\titem = document.querySelector(item);\n\t\t} else if (item && item.length > 0) {\n\t\t\titem = item[0];\n\t\t}\n\t\tvar watcher = new Watcher(this, item, offsets);\n\t\tthis.watchers.push(watcher);\n\t\treturn watcher;\n\t}\n\n\tbeget (item, offsets) {\n\t\treturn this.create(item, offsets);\n\t}\n}\n\nexport default ScrollMonitorContainer;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/container.js"],"sourceRoot":""}